<h1>Edit <%= @song.name %></h1>

<form action="/songs/<%= @song.slug %>" method="post">
    <input type="hidden" id="hidden" name="_method" value="patch">

    <label for="artist_name">Artist Name</label>
    <input type="text" name="artist[name]" id="artist_name" value="<%=@song.artist.name%>"><br>

    <label for="name">Name</label>
    <input type="text" name="song[name]" id="name" value="<%=@song.name%>"><br>

    <% Genre.all.each do |genre| %>
        <label><%= genre.name %></label>
        <input id="<%= genre.name %>" type="checkbox" name="genres[]" value="<%= genre.id %>" <%='checked' if @song.genres.include?(genre)%>>
    <% end %>

    <input type="submit" value="Save">
</form>

<% if flash.has? (:message) %>
    <%= flash[:message] %>
<% end %>